<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to Firebase Hosting</title>
    <!-- update the version number as needed -->
    <script  src="/__/firebase/5.4.0/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script  src="/__/firebase/5.4.0/firebase-auth.js"></script>
    <script  src="/__/firebase/5.4.0/firebase-database.js"></script>
    <script  src="/__/firebase/5.4.0/firebase-messaging.js"></script>
    <script  src="/__/firebase/5.4.0/firebase-storage.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script  src="/__/firebase/init.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
		<script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
 </head>
  <body>
  	<div>
		<input type="text" id="title" placeholder="Enter id that u delete">
		<input type="button" id='btn_delete' onclick="Delete()" value="Delete">
	</div>
	<script>
		function Delete(){

		var key = document.getElementById("title").value;
		firebase.database().ref().child('2010').child(key).remove();
		//alert(todelete);
		console.log("success");

		}

	</script>

	<div>
	 <table>
	 	<tr>
	 		<td>ID</td>
	 		<td><input type="text" placeholder="Ender Node ID eg:001" id="id"></td>
	 	</tr>
      <tr>
        <td>Name</td>
        <td> <input type ="text" placeholder="Enter author name" id="name"></td>
      </tr>
      <tr>
        <td>Degree</td>
        <td><input type="text" placeholder="Enter degree" id="degree"></td>
      </tr>
      <tr>
        <td>Supervisor Name</td>
        <td><input type="text" placeholder="Enter supervisor name" id="supervisor"></td>
      </tr>
      <tr>
        <td>Title</td>
        <td><input type="text" placeholder="Enter thesis title" id="title"></td>
      </tr>
      <tr>
        <td>Major</td>
        <td><input type="text" placeholder="Enter major" id="major"></td>
      </tr>
      <tr>
        <td>Abstract</td>
        <td><input type="text" placeholder="Enter abstraction" id="abstract"></td>
      </tr>
      <tr>
      	<td><input type="button" value="Update" onclick="Update()" id="btn_update"></td>
      </tr>
    </table>
</div>
<script>
	function Update(){
		var id = document.getElementById("id").value;
		var name = document.getElementById("name").value;
		var degree = document.getElementById("degree").value;
		var supervisor = document.getElementById("supervisor").value;
		var title = document.getElementById("title").value;
		var major = document.getElementById("major").value;
		var abstract = document.getElementById("abstract").value;
		/*
		 function update_user(){
      var user_name = document.getElementById("user_name").value;
      var user_id = document.getElementById("user_id").value;
      var data = {
        user_id : user_id,
        user_name : user_name
      }; 
      var updates = {}
      updates["users" + user_id] = data;
      firebase.database().ref().update(updates);
    }
    		 */

    	var data = {   			
    			
    			Abstract : abstract,
    			Degree : degree,
    			Major : major,
    			Name : name ,    			
    			SupervisorName : supervisor,
    			ThesisTitle : title

    	} ;
    	var updates = {}
    	updates["2010/" + id] = data; 
    	firebase.database().ref().update(updates);

	}


</script>


<div>
	<table>
		<tr>
			<td>ID</td>
			<td><input type= "text" placeholder="Enter Key for database eg:001" id="txt_id"></td>
		</tr>
      <tr>
        <td>Name</td>
        <td> <input type ="text" placeholder="Enter author name" id="name"></td>
      </tr>
      <tr>
        <td>Degree</td>
        <td><input type="text" placeholder="Enter degree" id="degree"></td>
      </tr>
      <tr>
        <td>Supervisor Name</td>
        <td><input type="text" placeholder="Enter supervisor name" id="supervisor"></td>
      </tr>
      <tr>
        <td>Title</td>
        <td><input type="text" placeholder="Enter thesis title" id="title"></td>
      </tr>
      <tr>
        <td>Major</td>
        <td><input type="text" placeholder="Enter major" id="major"></td>
      </tr>
      <tr>
        <td>Abstract</td>
        <td><input type="text" placeholder="Enter abstraction" id="abstract"></td>
      </tr>
      <tr>
      	<td><input type="button" value="Create" onclick="Create()"></td>
      </tr>
    </table>
  
</div>

<script>
	/*function save_user(){
      var user_name = document.getElementById("user_name").value;
      var uid = firebase.database().ref().child("users").push().key;
      var data = { 
        user_id : uid,
        user_name : user_name
      };

      var updates = {}
      updates["users" + uid] = data;
      firebase.database().ref().update(updates);


      ////////////////
      var user = firebase.auth().currentUser;
var usersRef = firebase.database().ref("users");
if (user) {
  usersRef.child(user.uid).set({ 
    displayName: displayName,
    email: email,
    photoUrl: photoUrl,
    emailVerified: emailVerified
  });
}
    } */

    function Create(){
  
    var id = document.getElementById("txt_id").value;
		var name = $('#name').val();
		var degree = document.getElementById("degree").value;
		var supervisor = document.getElementById("supervisor").value;
		var title = document.getElementById("title").value;
		var major = document.getElementById("major").value;
		var abstract = document.getElementById("abstract").value;
	
		var uid= firebase.database().ref().child('2010').push().key;
  
    alert(name);
  // console.log(name , degree , supervisor, title, major, abstract);

		var data = {   			
    			
    			Abstract : abstract,
    			Degree : degree,
    			Major : major,
    			Name : name ,    			
    			SupervisorName : supervisor,
    			ThesisTitle : title

    	} ;
    	
    	var updates = {}
      var path= "2010/" + uid ;     
    	updates[path] = data; 
      firebase.database().ref().update(updates);

     

    } 	
  </script>
		

 </body>
</html>
